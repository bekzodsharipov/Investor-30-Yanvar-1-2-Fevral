document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".registerBtn"),t=document.getElementById("registrationModal"),n=document.getElementById("closeModalBtn"),o=document.querySelector(".homeModalOverlay"),l=document.getElementById("registrationForm"),r=document.getElementById("name"),i=document.getElementById("nameError"),a=document.getElementById("phone"),d=document.getElementById("phoneError"),m=document.getElementById("submitBtn"),s=window.phoneFormatter;let c=!1,y=0;function u(){t&&(c=!0,y=window.scrollY,t.style.display="block",document.body.style.overflow="hidden",i.style.display="none",d.style.display="none")}function v(){t&&c&&(c=!1,t.style.display="none",document.body.style.overflow="",document.body.style.position="",document.body.style.top="",window.scrollTo(0,y))}e.forEach((e=>e.addEventListener("click",u))),n&&n.addEventListener("click",v),o&&o.addEventListener("click",v),l.addEventListener("submit",(function(e){if(e.preventDefault(),!s)return console.error("phoneFormatter is not initialized. Check formatter.js load order and p/g variables."),void(d.style.display="block");const t=r.value.trim(),n=a.value.trim();let o=!1;if(t?i.style.display="none":(i.style.display="block",o=!0),s.validate(n)?d.style.display="none":(d.style.display="block",o=!0),o)return;m.textContent="YUBORILMOQDA...",m.disabled=!0;const l=new Date,c=l.toLocaleDateString("uz-UZ"),y=l.toLocaleTimeString("uz-UZ"),u={Ism:t,TelefonRaqam:s.getCurrentCode()+" "+n,SanaSoat:c+" - "+y};localStorage.setItem("formData",JSON.stringify(u)),window.location.href="/thankYou.html",m.textContent="DAVOM ETISH",m.disabled=!1,r.value="",a.value="",v()}))}));const timerEl=document.getElementById("timer");let time=120;const interval=setInterval((()=>{const e=Math.floor(time/60),t=time%60;timerEl.textContent=String(e).padStart(2,"0")+":"+String(t).padStart(2,"0"),0!==time?time--:clearInterval(interval)}),1e3),timerEl1=document.getElementById("timer1");let time1=120;const interval1=setInterval((()=>{const e=Math.floor(time1/60),t=time1%60;timerEl1.textContent=String(e).padStart(2,"0")+":"+String(t).padStart(2,"0"),0!==time1?time1--:clearInterval(interval)}),1e3);